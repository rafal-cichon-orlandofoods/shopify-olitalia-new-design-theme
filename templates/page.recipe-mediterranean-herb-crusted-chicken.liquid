{{ 'recipe-page.css' | asset_url | stylesheet_tag }}
<script src="{{ 'recipe-print.js' | asset_url }}" defer></script>
<script src="{{ 'recipe-interactions.js' | asset_url }}" defer></script>

{% comment %} Get recipe data from metafields with fallbacks {% endcomment %}
{% assign recipe_image = page.metafields.recipe.featured_image | default: 'https://cdn.shopify.com/s/files/1/0766/7109/0927/files/Mediterranean-Herb-Chicken-Web.jpg?v=1761745107' %}
{% assign recipe_category = page.metafields.recipe.category | default: 'Secondi' %}
{% assign recipe_difficulty = page.metafields.recipe.difficulty | default: 'Medium' %}
{% assign recipe_title = page.title %}
{% assign recipe_chef = page.metafields.recipe.chef_name | default: 'Michele Loffreno' %}
{% assign recipe_chef_url = page.metafields.recipe.chef_page_url | default: '/pages/chefs' %}
{% assign recipe_description = page.metafields.recipe.description | default: 'Succulent chicken breast coated in aromatic Mediterranean herbs and finished with Olitalia Extra Virgin Olive Oil. A perfect balance of flavor and simplicity that brings the taste of Italy to your dinner table.' %}
{% assign recipe_time = page.metafields.recipe.total_time | default: '45 Minutes' %}
{% assign recipe_servings = page.metafields.recipe.servings | default: '4 People' %}
{% assign recipe_ingredients = page.metafields.recipe.ingredients %}
{% assign recipe_instructions = page.metafields.recipe.instructions %}

<div class="recipe-page">
  <div class="container container--large">
    
    <!-- Featured Image -->
    <div class="recipe-featured-image gutter-bottom--large">
      {% if recipe_image contains 'cdn.shopify.com' %}
        <img src="{{ recipe_image }}" 
             alt="{{ recipe_title }}"
             class="recipe-image">
      {% else %}
        <img src="{{ recipe_image | image_url: width: 1200 }}" 
             alt="{{ recipe_title }}"
             class="recipe-image">
      {% endif %}
    </div>
    
    <!-- Recipe Header -->
    <div class="recipe-header gutter-bottom--xlarge">
      <div class="recipe-header__content">
        <div class="recipe-meta gutter-bottom--regular">
          <span class="recipe-category">{{ recipe_category }}</span>
          <span class="recipe-difficulty">{{ recipe_difficulty }}</span>
        </div>
        
        <h1 class="recipe-title text-size--xxlarge text-weight--bold gutter-bottom--regular">
          {{ recipe_title }}
        </h1>
        
        <div class="recipe-chef gutter-bottom--regular">
          <span class="text-size--regular text-color--subdued">{{ 'recipes.by_chef' | t }}</span>
          <a href="{{ recipe_chef_url }}" class="text-size--regular text-weight--medium chef-profile-link">{{ recipe_chef }}</a>
        </div>
        
        <p class="recipe-description text-size--large text-line-height--medium gutter-bottom--large">
          {{ recipe_description }}
        </p>
        
        <!-- Recipe Action Buttons -->
        <div class="recipe-actions gutter-bottom--regular">
          <button class="print-recipe-btn">
            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
              <path d="M6 9V2H18V9" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
              <path d="M6 18H4C3.44772 18 3 17.5523 3 17V11C3 10.4477 3.44772 10 4 10H20C20.5523 10 21 10.4477 21 11V17C21 17.5523 20.5523 18 20 18H18" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
              <path d="M6 14H18V22H6V14Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
            </svg>
            Print Recipe
          </button>
          
          <button class="reset-progress-btn" onclick="window.recipeInteractions?.resetProgress()">
            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
              <path d="M3 12A9 9 0 0 1 12 3A9 9 0 0 1 21 12A9 9 0 0 1 12 21" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
              <path d="M8 12L12 16L16 12" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
            </svg>
            Reset Progress
          </button>
        </div>
        
        <!-- Recipe Stats -->
        <div class="recipe-stats">
          <div class="recipe-stats__grid">
            <div class="recipe-stat">
              <div class="recipe-stat__icon">
                {% render 'icon-clock' %}
              </div>
              <div class="recipe-stat__content">
                <span class="recipe-stat__label">{{ 'recipes.total_time' | t }}</span>
                <span class="recipe-stat__value">{{ recipe_time }}</span>
              </div>
            </div>
            
            <div class="recipe-stat">
              <div class="recipe-stat__icon">
                {% render 'icon-users' %}
              </div>
              <div class="recipe-stat__content">
                <span class="recipe-stat__label">{{ 'recipes.servings' | t }}</span>
                <span class="recipe-stat__value">{{ recipe_servings }}</span>
              </div>
            </div>
            
            <div class="recipe-stat">
              <div class="recipe-stat__icon">
                {% render 'icon-chef-hat' %}
              </div>
              <div class="recipe-stat__content">
                <span class="recipe-stat__label">{{ 'recipes.difficulty_label' | t }}</span>
                <span class="recipe-stat__value">{{ recipe_difficulty }}</span>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
    
    <!-- Recipe Content -->
    <div class="recipe-content">
      <div class="recipe-content__grid">
        
        <!-- Ingredients -->
        <div class="recipe-ingredients">
          <h2 class="text-size--xlarge text-weight--bold gutter-bottom--regular">
            {{ 'recipes.ingredients' | t }}
          </h2>
          
          <ul class="recipe-ingredients__list">
            <li class="recipe-ingredient">
              <span class="recipe-ingredient__amount">4</span>
              <span class="recipe-ingredient__name">Boneless, Skinless Chicken Breasts</span>
            </li>
            <li class="recipe-ingredient recipe-ingredient--featured">
              <span class="recipe-ingredient__amount">¼ Cup</span>
              <span class="recipe-ingredient__name">Olitalia Extra Virgin Olive Oil</span>
            </li>
            <li class="recipe-ingredient">
              <span class="recipe-ingredient__amount">2 Tablespoons</span>
              <span class="recipe-ingredient__name">Fresh Rosemary, chopped</span>
            </li>
            <li class="recipe-ingredient">
              <span class="recipe-ingredient__amount">2 Tablespoons</span>
              <span class="recipe-ingredient__name">Fresh Thyme, chopped</span>
            </li>
            <li class="recipe-ingredient">
              <span class="recipe-ingredient__amount">3 Cloves</span>
              <span class="recipe-ingredient__name">Garlic, minced</span>
            </li>
            <li class="recipe-ingredient">
              <span class="recipe-ingredient__amount">1 Tablespoon</span>
              <span class="recipe-ingredient__name">Fresh Oregano, chopped</span>
            </li>
            <li class="recipe-ingredient">
              <span class="recipe-ingredient__amount">1 Teaspoon</span>
              <span class="recipe-ingredient__name">Sea Salt</span>
            </li>
            <li class="recipe-ingredient">
              <span class="recipe-ingredient__amount">½ Teaspoon</span>
              <span class="recipe-ingredient__name">Black Pepper, freshly ground</span>
            </li>
            <li class="recipe-ingredient">
              <span class="recipe-ingredient__amount">1</span>
              <span class="recipe-ingredient__name">Lemon, zested and juiced</span>
            </li>
            <li class="recipe-ingredient">
              <span class="recipe-ingredient__amount">½ Cup</span>
              <span class="recipe-ingredient__name">Panko Breadcrumbs</span>
            </li>
            <li class="recipe-ingredient">
              <span class="recipe-ingredient__amount">¼ Cup</span>
              <span class="recipe-ingredient__name">Parmesan Cheese, grated</span>
            </li>
          </ul>
        </div>
        
        <!-- Instructions -->
        <div class="recipe-instructions">
          <h2 class="text-size--xlarge text-weight--bold gutter-bottom--regular">
            {{ 'recipes.directions' | t }}
          </h2>
          
          <ol class="recipe-instructions__list">
            <li class="recipe-instruction">
              <div class="recipe-instruction__number">1</div>
              <div class="recipe-instruction__content">
                <p>Preheat your oven to 400°F (200°C). Line a baking sheet with parchment paper.</p>
                <div class="recipe-instruction__tutorial">
                  <div class="tutorial-media">
                    <img src="https://cdn.shopify.com/s/files/1/0766/7109/0927/files/step-1-oven-prep.jpg?v=1761745107" 
                         alt="Step 1: Preheating oven and preparing baking sheet"
                         class="tutorial-image">
                    <div class="tutorial-overlay">
                      <button class="play-tutorial-btn" data-video="step-1-oven-prep">
                        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                          <path d="M8 5V19L19 12L8 5Z" fill="currentColor"/>
                        </svg>
                        Watch Tutorial
                      </button>
                    </div>
                  </div>
                </div>
              </div>
            </li>
            
            <li class="recipe-instruction">
              <div class="recipe-instruction__number">2</div>
              <div class="recipe-instruction__content">
                <p>Pat the chicken breasts dry with paper towels. If they're thick, pound them to an even ¾-inch thickness for uniform cooking.</p>
                <div class="recipe-instruction__tutorial">
                  <div class="tutorial-media">
                    <img src="https://cdn.shopify.com/s/files/1/0766/7109/0927/files/step-2-chicken-prep.jpg?v=1761745107" 
                         alt="Step 2: Preparing and pounding chicken breasts"
                         class="tutorial-image">
                    <div class="tutorial-overlay">
                      <button class="play-tutorial-btn" data-video="step-2-chicken-prep">
                        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                          <path d="M8 5V19L19 12L8 5Z" fill="currentColor"/>
                        </svg>
                        Watch Tutorial
                      </button>
                    </div>
                  </div>
                </div>
              </div>
            </li>
            
            <li class="recipe-instruction">
              <div class="recipe-instruction__number">3</div>
              <div class="recipe-instruction__content">
                <p>In a small bowl, combine the chopped rosemary, thyme, oregano, minced garlic, sea salt, black pepper, and lemon zest. Mix well to create the herb blend.</p>
                <div class="recipe-instruction__tutorial">
                  <div class="tutorial-media">
                    <img src="https://cdn.shopify.com/s/files/1/0766/7109/0927/files/step-3-herb-blend.jpg?v=1761745107" 
                         alt="Step 3: Creating Mediterranean herb blend"
                         class="tutorial-image">
                    <div class="tutorial-overlay">
                      <button class="play-tutorial-btn" data-video="step-3-herb-blend">
                        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                          <path d="M8 5V19L19 12L8 5Z" fill="currentColor"/>
                        </svg>
                        Watch Tutorial
                      </button>
                    </div>
                  </div>
                </div>
              </div>
            </li>
            
            <li class="recipe-instruction">
              <div class="recipe-instruction__number">4</div>
              <div class="recipe-instruction__content">
                <p>Drizzle 2 tablespoons of Olitalia Extra Virgin Olive Oil over the chicken breasts and rub the herb mixture all over both sides, ensuring even coverage.</p>
                <div class="recipe-instruction__tutorial">
                  <div class="tutorial-media">
                    <img src="https://cdn.shopify.com/s/files/1/0766/7109/0927/files/step-4-marinating.jpg?v=1761745107" 
                         alt="Step 4: Marinating chicken with olive oil and herbs"
                         class="tutorial-image">
                    <div class="tutorial-overlay">
                      <button class="play-tutorial-btn" data-video="step-4-marinating">
                        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                          <path d="M8 5V19L19 12L8 5Z" fill="currentColor"/>
                        </svg>
                        Watch Tutorial
                      </button>
                    </div>
                  </div>
                </div>
              </div>
            </li>
            
            <li class="recipe-instruction">
              <div class="recipe-instruction__number">5</div>
              <div class="recipe-instruction__content">
                <p>In another bowl, combine the panko breadcrumbs, grated Parmesan, and remaining 2 tablespoons of olive oil. Mix until the breadcrumbs are evenly coated.</p>
                <div class="recipe-instruction__tutorial">
                  <div class="tutorial-media">
                    <img src="https://cdn.shopify.com/s/files/1/0766/7109/0927/files/step-5-breadcrumb-mix.jpg?v=1761745107" 
                         alt="Step 5: Preparing breadcrumb coating"
                         class="tutorial-image">
                    <div class="tutorial-overlay">
                      <button class="play-tutorial-btn" data-video="step-5-breadcrumb-mix">
                        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                          <path d="M8 5V19L19 12L8 5Z" fill="currentColor"/>
                        </svg>
                        Watch Tutorial
                      </button>
                    </div>
                  </div>
                </div>
              </div>
            </li>
            
            <li class="recipe-instruction">
              <div class="recipe-instruction__number">6</div>
              <div class="recipe-instruction__content">
                <p>Press the breadcrumb mixture firmly onto the top of each chicken breast, creating an even crust.</p>
                <div class="recipe-instruction__tutorial">
                  <div class="tutorial-media">
                    <img src="https://cdn.shopify.com/s/files/1/0766/7109/0927/files/step-6-coating.jpg?v=1761745107" 
                         alt="Step 6: Coating chicken with breadcrumb mixture"
                         class="tutorial-image">
                    <div class="tutorial-overlay">
                      <button class="play-tutorial-btn" data-video="step-6-coating">
                        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                          <path d="M8 5V19L19 12L8 5Z" fill="currentColor"/>
                        </svg>
                        Watch Tutorial
                      </button>
                    </div>
                  </div>
                </div>
              </div>
            </li>
            
            <li class="recipe-instruction">
              <div class="recipe-instruction__number">7</div>
              <div class="recipe-instruction__content">
                <p>Place the chicken on the prepared baking sheet and bake for 25-30 minutes, or until the internal temperature reaches 165°F (74°C) and the crust is golden brown.</p>
                <div class="recipe-instruction__tutorial">
                  <div class="tutorial-media">
                    <img src="https://cdn.shopify.com/s/files/1/0766/7109/0927/files/step-7-baking.jpg?v=1761745107" 
                         alt="Step 7: Baking the herb-crusted chicken"
                         class="tutorial-image">
                    <div class="tutorial-overlay">
                      <button class="play-tutorial-btn" data-video="step-7-baking">
                        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                          <path d="M8 5V19L19 12L8 5Z" fill="currentColor"/>
                        </svg>
                        Watch Tutorial
                      </button>
                    </div>
                  </div>
                </div>
              </div>
            </li>
            
            <li class="recipe-instruction">
              <div class="recipe-instruction__number">8</div>
              <div class="recipe-instruction__content">
                <p>Remove from oven and let rest for 5 minutes. Drizzle with fresh lemon juice and serve immediately with your favorite Mediterranean sides.</p>
                <div class="recipe-instruction__tutorial">
                  <div class="tutorial-media">
                    <img src="https://cdn.shopify.com/s/files/1/0766/7109/0927/files/step-8-serving.jpg?v=1761745107" 
                         alt="Step 8: Final plating and serving"
                         class="tutorial-image">
                    <div class="tutorial-overlay">
                      <button class="play-tutorial-btn" data-video="step-8-serving">
                        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                          <path d="M8 5V19L19 12L8 5Z" fill="currentColor"/>
                        </svg>
                        Watch Tutorial
                      </button>
                    </div>
                  </div>
                </div>
              </div>
            </li>
          </ol>
          
          <!-- Chef's Note -->
          <div class="chef-note gutter-top--large">
            <div class="chef-note__content">
              <h3 class="text-size--large text-weight--bold gutter-bottom--small">Chef's Note</h3>
              <p class="text-size--regular text-line-height--medium">
                For extra flavor, marinate the chicken in the herb mixture for 2-4 hours before cooking. The quality of your olive oil makes all the difference - Olitalia's Extra Virgin Olive Oil adds that authentic Mediterranean taste that transforms this simple dish into something extraordinary.
              </p>
            </div>
          </div>
        </div>
      </div>
    </div>
    
    <!-- Featured Product -->
    <div class="recipe-featured-product gutter-top--xlarge">
      <div class="featured-product-card">
        <h3 class="text-size--large text-weight--bold gutter-bottom--regular">
          {{ 'recipes.featured_product' | t }}
        </h3>
        <p class="text-size--regular gutter-bottom--regular">
          This recipe showcases the versatility of our Extra Virgin Olive Oil - perfect for marinating, coating, and finishing this Mediterranean-inspired dish with authentic Italian flavor.
        </p>
        <a href="https://usa.olitalia.com/products/extra-virgin-olive-oil-500ml" class="button button--solid" target="_blank" rel="noopener">
          {{ 'recipes.shop_ingredient' | t }}
        </a>
      </div>
    </div>
    
  </div>
</div>